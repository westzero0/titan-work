<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>íƒ€ì´íƒ„ ì¼ë³´ v3.3</title>
    <link rel="stylesheet" href="style.css"> <style>
        /* ì¶”ê°€ì ì¸ íƒ­ ë° ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ */
        .tab-menu { display: flex; gap: 8px; margin-bottom: 20px; position: sticky; top: 0; background: white; z-index: 100; padding: 10px 0; }
        .tab-btn { flex: 1; padding: 12px; border-radius: 12px; border: none; background: #e2e8f0; color: #475569; font-weight: bold; font-size: 0.9rem; cursor: pointer; }
        .tab-btn.active { background: #2563eb; color: white; }
        .view-section { display: none; }
        .view-section.active { display: block; }
        .card { background: white; border-radius: 15px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border: 1px solid #f1f5f9; }
        .row { display: flex; gap: 10px; margin-bottom: 15px; }
        .col { flex: 1; }
        select, input, textarea { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #cbd5e1; font-size: 1rem; box-sizing: border-box; }
        label { display: block; margin-bottom: 6px; font-weight: bold; color: #1e293b; font-size: 0.9rem; }
        .submit-btn { width: 100%; padding: 16px; background: #2563eb; color: white; border: none; border-radius: 12px; font-size: 1.1rem; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container" style="padding: 15px; max-width: 500px; margin: auto;">
        
        <div class="tab-menu">
            <button class="tab-btn active" id="tab-input" onclick="switchTab('input')">ğŸ“ ì‘ì„±</button>
            <button class="tab-btn" id="tab-schedule" onclick="switchTab('schedule')">ğŸ“… ì¼ì •</button>
            <button class="tab-btn" id="tab-history" onclick="switchTab('history')">ğŸ“‚ ë‚´ì—­</button>
            <button class="tab-btn" id="tab-salary" onclick="switchTab('salary')">ğŸ’° ì •ì‚°</button>
        </div>

        <div id="view-input" class="view-section active">
            <div class="card">
                <label>âœï¸ ì¼ë³´ ì‘ì„±ì (ìë™ê¸°ì–µ)</label>
                <select id="submitter">
                    <option value="ë¹„ë¹„">ë¹„ë¹„</option>
                    <option value="ê¸°ì›">ê¸°ì›</option>
                    <option value="ì°½ì¬">ì°½ì¬</option>
                    <option value="ì„œí˜¸">ì„œí˜¸</option>
                </select>
            </div>

            <div class="card">
                <div class="row">
                    <div class="col">
                        <label>ğŸ“… ë‚ ì§œ</label>
                        <input type="date" id="date">
                    </div>
                </div>
                
                <label>ğŸ¢ ê±°ë˜ì²˜ ì„ íƒ</label>
                <div id="client-chips" class="chip-container"></div>

                <label style="margin-top:15px;">ğŸ—ï¸ í˜„ì¥ëª…</label>
                <input type="text" id="siteSearch" list="site-options" placeholder="í˜„ì¥ ê²€ìƒ‰ ë˜ëŠ” ì…ë ¥" oninput="syncSiteSelection()">
                <datalist id="site-options"></datalist>
                <div id="site-chips" class="chip-container" style="margin-top:8px;"></div>
                <label style="font-size:0.8rem; color:#64748b;"><input type="checkbox" id="showFinished"> ì™„ë£Œ í˜„ì¥ ë³´ê¸°</label>
            </div>

            <div class="card">
                <label>ğŸ› ï¸ ì‘ì—… ë‚´ìš©</label>
                <textarea id="work" rows="2" placeholder="ì˜ˆ: ì…ì„  ë° ê²°ì„  ì‘ì—…"></textarea>
                
                <div class="row" style="margin-top:10px;">
                    <div class="col">
                        <label>â° ì‹œì‘</label>
                        <select id="start"></select>
                    </div>
                    <div class="col">
                        <label>â° ì¢…ë£Œ</label>
                        <select id="end"></select>
                    </div>
                </div>
                <label>ğŸ± ì„ì‹ ì—¬ë¶€</label>
                <select id="dinner">
                    <option value="X">X (ì•ˆë¨¹ìŒ)</option>
                    <option value="O">O (ë¨¹ìŒ)</option>
                </select>
            </div>

            <div class="card">
                <label>ğŸ‘¥ ì‘ì—… ì¸ì›</label>
                <div id="member-chips" class="chip-container"></div>
                
                <label style="margin-top:15px;">ğŸš— ì‚¬ìš© ì°¨ëŸ‰</label>
                <div id="car-chips" class="chip-container"></div>
            </div>

            <div class="card">
                <label>ğŸ“¦ ì‚¬ìš© ìì¬</label>
                <div id="material-chips" class="chip-container"></div>
                <textarea id="materialExtra" rows="2" style="margin-top:8px;" placeholder="ê¸°íƒ€ ìì¬ ì§ì ‘ ì…ë ¥"></textarea>
            </div>

            <div class="card">
                <div class="row">
                    <div class="col">
                        <label>ğŸ’° ê²½ë¹„ ê¸ˆì•¡</label>
                        <input type="number" id="expAmount" placeholder="0">
                    </div>
                    <div class="col">
                        <label>ğŸ’³ ê²½ë¹„ ê²°ì œì</label>
                        <select id="expPayer">
                            <option value="ì—†ìŒ">ì—†ìŒ</option>
                            <option value="ë¹„ë¹„">ë¹„ë¹„</option>
                            <option value="ê¸°ì›">ê¸°ì›</option>
                            <option value="ì°½ì¬">ì°½ì¬</option>
                            <option value="ì„œí˜¸">ì„œí˜¸</option>
                        </select>
                    </div>
                </div>
                <label>ğŸ“ ê²½ë¹„ ë‚´ìš©</label>
                <input type="text" id="expDetail" placeholder="ìì¬ êµ¬ë§¤ ë“± ìƒì„¸ ë‚´ìš©">
                
                <label style="margin-top:15px;">ğŸ“¸ ì˜ìˆ˜ì¦/í˜„ì¥ ì‚¬ì§„</label>
                <input type="file" id="receipt" multiple accept="image/*">
            </div>

            <button id="sBtn" class="submit-btn" onclick="send()">ğŸš€ ì €ì¥ ë° ì¹´í†¡ ê³µìœ </button>
        </div>

        <div id="view-schedule" class="view-section">
            <h2 style="margin-bottom:15px;">ğŸ—“ï¸ í˜„ì¥ ì¼ì •í‘œ</h2>
            <div id="schedule-container"></div>
        </div>

        <div id="view-history" class="view-section">
            <h2 style="margin-bottom:15px;">ğŸ“‚ ê³¼ê±° ë‚´ì—­ ì¡°íšŒ</h2>
            <div class="row">
                <input type="text" id="searchName" placeholder="ì§ì› ì´ë¦„ ê²€ìƒ‰">
                <button onclick="loadHistory()" style="padding:0 15px; background:#334155; color:white; border-radius:10px; border:none;">ì¡°íšŒ</button>
            </div>
            <div id="history-list"></div>
        </div>

        <div id="view-salary" class="view-section">
            <h2 style="margin-bottom:15px;">ğŸ’° ì›”ë³„ ê¸‰ì—¬ ì •ì‚°</h2>
            <div class="card">
                <label>ğŸ“… ì •ì‚° ì›” ì„ íƒ (B1 ì…€ ì—°ë™)</label>
                <p style="font-size:0.9rem; color:#64748b;">â€» ì •ì‚°ì€ êµ¬ê¸€ ì‹œíŠ¸ì˜ [ì›”ë³„ì •ì‚°] íƒ­ì—ì„œ 'ì •ì‚° ì‹¤í–‰' ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>